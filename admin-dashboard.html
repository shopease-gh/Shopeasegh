<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Admin Dashboard | ShopEase</title>
  <style>
    body {
      background: black;
      color: gold;
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
    }

    header {
      background: #111;
      padding: 15px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid gold;
    }

    header h1 {
      margin: 0;
      font-size: 20px;
    }

    .logout-btn {
      background: crimson;
      color: white;
      border: none;
      padding: 8px 14px;
      border-radius: 8px;
      cursor: pointer;
    }

    .dashboard {
      padding: 20px;
    }

    .tabs {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 20px;
    }

    .tabs button {
      background: gold;
      color: black;
      padding: 10px 16px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }

    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
    }

    .section-box {
      background: #1a1a1a;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 20px;
    }
  </style>
</head>
<body>

  <header>
    <h1>ShopEase Admin Dashboard</h1>
    <button class="logout-btn" onclick="logout()">Logout</button>
  </header>

  <div class="dashboard">
    <div class="tabs">
      <button onclick="showTab('orders-received')">üì• Orders Received</button>
      <button onclick="showTab('orders-processed')">‚úÖ Orders Processed</button>
      <button onclick="showTab('promotions')">üè∑Ô∏è Promotion Status</button>
      <button onclick="showTab('products')">üì¶ Add/Remove Products</button>
      <button onclick="showTab('categories')">üóÇÔ∏è Manage Categories</button>
      <button onclick="showTab('inbox')">üì¨ Inbox</button>
    </div>

    <div id="orders-received" class="tab-content active section-box">
      <h3>Orders Received</h3>
      <div id="ordersList"></div>
    </div>

    <div id="orders-processed" class="tab-content section-box">
      <h3>Orders Processed</h3>
    <div id="processedList"></div>

    </div>

    <div id="promotions" class="tab-content section-box">
      <h3>Promotion Status</h3>
      <p>Manage discounted products and view live promos.</p>
    </div>

    <div id="products" class="tab-content section-box">
      <h3>Add/Remove Products</h3>
      <p>Admin can upload product images, names, prices, and descriptions here.</p>
    </div>

    <div id="categories" class="tab-content section-box">
      <h3>Manage Categories</h3>
      <p>Add or remove product categories like Clothes, Electronics, etc.</p>
    </div>

    <div id="inbox" class="tab-content section-box">
      <h3>Inbox</h3>
      <p>Read and respond to messages from customers.</p>
    </div>
  </div>

  <script>
    // Check if admin is logged in
    if (localStorage.getItem('adminLoggedIn') !== 'true') {
      window.location.href = 'admin-login.html';
    }

    function showTab(tabId) {
  document.querySelectorAll('.tab-content').forEach(tab => {
    tab.classList.remove('active');
  });
  document.getElementById(tabId).classList.add('active');

  if (tabId === 'orders-processed') {
    loadProcessedOrders();
  }
}


    function logout() {
      localStorage.removeItem('adminLoggedIn');
      localStorage.removeItem('entryPassed');
      window.location.href = 'entry.html';
    }

    // Orders logic
    let orders = JSON.parse(localStorage.getItem("orders") || "[]");

    function saveOrders() {
      localStorage.setItem("orders", JSON.stringify(orders));
      loadOrders();
    }

    function loadOrders() {
      const container = document.getElementById("ordersList");
      if (!container) return;

      if (orders.length === 0) {
        container.innerHTML = "<p>No orders received yet.</p>";
        return;
      }
      function loadProcessedOrders() {
  const container = document.getElementById("processedList");
  if (!container) return;

  const processed = JSON.parse(localStorage.getItem("processedOrders") || "[]");

  if (processed.length === 0) {
    container.innerHTML = "<p>No processed orders yet.</p>";
    return;
  }

  container.innerHTML = processed.map((order, index) => `
    <div style="border:1px solid gold; padding:10px; border-radius:8px; margin-bottom:10px;">
      <strong>Customer:</strong> ${order.name}<br/>
      <strong>Location:</strong> ${order.location}<br/>
      <strong>Contact:</strong> ${order.contact}<br/>
      <strong>Payment:</strong> ${order.payment}<br/>
      <strong>Delivery Fee:</strong> ‚Çµ${order.delivery}<br/>
      <strong>Total:</strong> ‚Çµ${order.total}<br/>
      <strong>Items:</strong>
      <ul style="margin: 5px 0 10px;">
        ${order.items.map(item => `<li>${item.name} x ${item.quantity} = ‚Çµ${item.price}</li>`).join("")}
      </ul>
    </div>
  `).join("");
}


      container.innerHTML = orders.map((order, index) => `
        <div style="border:1px solid gold; padding:10px; border-radius:8px; margin-bottom:10px;">
          <strong>Customer:</strong> ${order.name}<br/>
          <strong>Location:</strong> ${order.location}<br/>
          <strong>Contact:</strong> ${order.contact}<br/>
          <strong>Payment:</strong> ${order.payment}<br/>
          <strong>Delivery Fee:</strong> ‚Çµ${order.delivery}<br/>
          <strong>Total:</strong> ‚Çµ${order.total}<br/>
          <strong>Items:</strong>
          <ul style="margin: 5px 0 10px;">
            ${order.items.map(item => `<li>${item.name} x ${item.quantity} = ‚Çµ${item.price}</li>`).join("")}
          </ul>
          <button onclick="markProcessed(${index})">‚úÖ Mark as Processed</button>
          <button onclick="deleteOrder(${index})" style="background:crimson;color:white;margin-left:10px;">üóëÔ∏è Delete</button>
        </div>
      `).join("");
    }

    function markProcessed(index) {
      const order = orders.splice(index, 1)[0];
      const processed = JSON.parse(localStorage.getItem("processedOrders") || "[]");
      processed.push(order);
      localStorage.setItem("processedOrders", JSON.stringify(processed));
      saveOrders();
    }

    function deleteOrder(index) {
      if (confirm("Delete this order?")) {
        orders.splice(index, 1);
        saveOrders();
      }
    }

    loadOrders();
  </script>

</body>
</html>
